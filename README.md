# fed-e-task-01-01

简答题：
谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

Javascript 采用单线程模式工作，因为只有一个线程，如果有多个任务就必须排队，假如遇到特别耗时的任务，程序就会卡死，造成极差的用户体验。而异步编程就是为了解决这个问题。在异步编程模式中，任何耗时操作都是开启过后就立即执行下一个任务，而耗时操作的后续逻辑会通过回调函数来定义，耗时任务完成过后就会自动执行传入的回调函数。

异步编程过程都是通过消息队列 Queue 和事件循环 EventLoop 去实现的。Queue 其实是一个回调队列，当遇到异步调用时，回调函数会被放入 Queue 中等待。Javascript 执行引擎会先执行完 call stack 中的所有任务，再通过 EventLoop 从 Queue 中按 FirstInFirstOut 的顺序取出一个回调函数继续执行。

回调队列中的任务都是宏任务，宏任务在执行的过程中可以临时加上一些额外的需求，作为一个新的宏任务到回调队列中排队；这些额外需求也可以作为当前任务的微任务，直接在当前任务结束过后立即执行，而不是到队伍末尾重新排队。相比之下，微任务能够提高应用整体的响应能力。目前绝大多数异步调用都是作为宏任务来执行。只有 Promise，MutationObserver 和 node 中的 process.nextTick 会作为微任务在本轮末尾执行
